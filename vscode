VSCode 安装与全功能使用教程（含深度学习环境适配）

一、前言：认识 VSCode

Visual Studio Code（简称 VSCode）是微软推出的开源代码编辑器，以轻量高效、插件生态丰富、跨平台兼容为核心优势，支持 Python、C++、Java 等多种编程语言，尤其在深度学习开发（如 PyTorch、TensorFlow 项目）中被广泛使用——可通过插件实现代码补全、语法检查、调试运行、环境管理等全流程功能。

本教程针对新手设计，涵盖 VSCode 安装、基础配置、核心功能使用，以及与 Anaconda/PyTorch 环境的适配技巧，帮助快速上手并应用于实际开发。

二、安装前准备

2.1 系统兼容性确认

VSCode 支持全平台，需确保系统版本符合要求：

- Windows：Windows 10/11（32位/64位，推荐64位）；

- Linux：Ubuntu 16.04+、CentOS 7+ 等主流发行版（64位）；

- macOS：macOS 10.15+（Intel芯片/Apple Silicon芯片均支持）。

2.2 版本选择

推荐下载 稳定版（Stable Build），适合日常开发；若需体验新功能可选择 Insider 版（预览版）。官方提供免费下载，无需激活。

三、分系统安装步骤

3.1 Windows 系统安装（以 Windows 11 为例）

1. 下载安装包：访问 VSCode 官方下载页，点击“Windows”自动下载64位安装包（约80-100MB）。

2. 执行安装：
        # 双击安装包，按以下关键步骤操作：
1. 勾选“我接受许可协议”，点击“下一步”；
2. 选择安装路径：默认“C:\Users\用户名\AppData\Local\Programs\Microsoft VS Code”，建议修改为“D:\Program Files\Microsoft VS Code”（避免C盘占用，路径不可含中文）；
3. 附加任务（必选勾选）：
   - 创建桌面快捷方式；
   - 将“通过代码打开”添加到文件上下文菜单；
   - 将“通过代码打开”添加到目录上下文菜单；
   - 注册代码为受支持的文件类型的编辑器；
4. 点击“下一步”→“安装”，等待完成后点击“完成”。

3. 验证安装：双击桌面快捷方式，若能正常启动 VSCode 主界面，则安装成功。

3.2 Linux 系统安装（以 Ubuntu 22.04 为例）

推荐采用 deb 包安装（图形化操作）或终端命令安装，此处以终端安装为例：

# 1. 下载 deb 安装包（64位）
wget -O vscode.deb https://update.code.visualstudio.com/latest/linux-deb-x64/stable

# 2. 安装依赖并执行安装
sudo apt-get update
sudo apt-get install libgtk2.0-0 libxss1 libgconf-2-4 libnss3
sudo dpkg -i vscode.deb

# 3. 修复可能的依赖问题
sudo apt-get install -f

# 4. 启动 VSCode
code  # 终端输入该命令，或从应用列表找到“Visual Studio Code”启动

3.3 macOS 系统安装（以 macOS Ventura 为例）

1. 访问官方下载页，点击“macOS”下载 .dmg 安装包（区分 Intel 芯片和 Apple Silicon 芯片，官网会自动识别）；

2. 双击 .dmg 包，将“Visual Studio Code”图标拖动到“Applications”文件夹；

3. 从“启动台”找到 VSCode 启动，首次启动若提示“来自未知开发者”，右键点击图标选择“打开”即可。

四、基础配置（新手必做）

4.1 中文界面设置

# 1. 打开 VSCode，按快捷键 Ctrl+Shift+X（或点击左侧“扩展”图标）打开插件市场；
# 2. 在搜索框输入“Chinese (Simplified) Language Pack for VS Code”，点击“安装”；
# 3. 安装完成后，右下角会提示“重启以应用语言更改”，点击“重启”；
# 4. 重启后自动切换为中文界面，若未切换：
   按 Ctrl+Shift+P 打开命令面板，输入“Configure Display Language”，选择“zh-cn”后重启。

4.2 核心插件安装（开发必备）

通过左侧“扩展”图标（或 Ctrl+Shift+X）搜索并安装以下插件：

插件名称

核心功能

适用场景

Python

Python 语法高亮、代码补全、调试、环境管理

Python 开发、深度学习项目

Pylance

增强型 Python 语言服务，更精准的补全和类型检查

配合 Python 插件使用，提升开发效率

Code Runner

一键运行多种语言代码，支持结果输出到控制台

快速测试单文件代码（如 PyTorch 张量操作）

Prettier

代码格式化工具，支持多种语言

统一代码风格，避免格式混乱

Remote - SSH

远程连接服务器，在本地编辑服务器代码

使用服务器 GPU 进行深度学习训练

4.3 基础界面介绍

VSCode 界面分为5个核心区域，快速熟悉可提升操作效率：

1. 活动栏（左侧）：包含“资源管理器”“搜索”“扩展”“运行和调试”等核心功能入口；

2. 侧边栏（左侧）：对应活动栏选中功能的详细内容，如资源管理器显示项目文件；

3. 编辑区（中间）：代码编辑主区域，支持多标签页同时编辑；

4. 面板（底部）：包含终端、输出、问题、调试控制台等，可通过“查看→面板”调出；

5. 状态栏（底部）：显示当前分支、语言、行号、环境等信息，如 Python 解释器版本。

五、核心功能使用（实战教程）

5.1 项目管理（以 PyTorch 项目为例）

# 1. 打开项目文件夹
   方法1：点击“文件→打开文件夹”，选择 PyTorch 项目所在目录（如 D:\PyTorch_Projects\linear_regression）；
   方法2：终端进入项目目录后，输入“code .”（注意空格和点），直接用 VSCode 打开该目录。

# 2. 文件夹结构管理
   在侧边栏“资源管理器”中，右键可创建文件（.py）、文件夹（如 data、model），清晰分类代码和数据。

# 3. 关闭项目
   点击“文件→关闭文件夹”，或直接关闭 VSCode 后重新打开。

5.2 代码编辑核心技巧

- 代码补全：输入代码时自动提示（如输入“torch.”会提示 tensor、nn 等模块），按 Tab 键确认补全；

- 快捷键操作（常用）：
        Ctrl+S：保存当前文件
Ctrl+Shift+S：保存所有文件
Ctrl+Z：撤销
Ctrl+Y：重做
Ctrl+F：查找当前文件内容
Ctrl+Shift+F：全局搜索（跨文件）
Ctrl+/：快速注释/取消注释代码行
Ctrl+D：选中当前单词，多次按可选中多个相同单词
Ctrl+Shift+K：删除当前行
Alt+Shift+下箭头：复制当前行到下一行

- 代码格式化：安装 Prettier 插件后，右键点击编辑区选择“格式化文档”，或按 Shift+Alt+F 一键格式化。

5.3 调试功能（Python 代码为例）

以之前的 PyTorch 线性回归代码（linear_regression.py）为例，实现断点调试：

# 1. 配置调试环境
   1. 点击左侧“运行和调试”图标（或 Ctrl+Shift+D）；
   2. 点击“创建 launch.json 文件”，在弹出的语言列表中选择“Python”；
   3. 选择“当前文件”，自动生成 launch.json 配置文件（无需手动修改）。

# 2. 设置断点
   在代码行号左侧点击，出现红色圆点（如在 loss = criterion(y_pred, y_true) 行设置断点）。

# 3. 启动调试
   按 F5 启动调试，程序会在断点处暂停，此时可：
   - 查看变量：侧边栏“变量”区域显示 x、y_pred、loss 等变量的值；
   - 单步执行：F10 单步跳过（不进入函数内部），F11 单步进入（进入 nn.Linear 等函数）；
   - 继续运行：按 F5 继续执行到下一个断点或程序结束；
   - 停止调试：按 Shift+F5 或点击调试工具栏“停止”按钮。

5.4 终端集成与环境适配

VSCode 内置终端可直接关联 Anaconda 环境，无需单独打开 Anaconda Prompt：

# 1. 打开内置终端
   方法1：点击“终端→新建终端”；
   方法2：按 Ctrl+`（键盘左上角，与~同键）快速调出。

# 2. 激活 Anaconda 环境
   在终端中输入以下命令（与系统无关）：
   conda activate pytorch_env  # 激活之前创建的 PyTorch 环境
   激活后终端前缀会显示 (pytorch_env)，表示环境生效。

# 3. 运行代码
   在终端中输入：python linear_regression.py，直接运行当前项目的代码，输出结果会显示在终端中。

六、深度学习环境适配（关键配置）

6.1 关联 Anaconda 环境的 Python 解释器

确保 VSCode 使用 pytorch_env 环境的 Python 解释器，避免包找不到的问题：

# 1. 打开解释器选择界面
   方法1：点击状态栏右下角的“Python 3.x.x”（如 Python 3.10.12）；
   方法2：按 Ctrl+Shift+P 打开命令面板，输入“Python: Select Interpreter”。

# 2. 选择对应环境的解释器
   在弹出的列表中，选择“pytorch_env”环境的解释器（路径通常为：
   Windows：C:\Users\用户名\anaconda3\envs\pytorch_env\python.exe
   Linux：/home/用户名/anaconda3/envs/pytorch_env/bin/python
   macOS：/Users/用户名/opt/anaconda3/envs/pytorch_env/bin/python）。

# 3. 验证
   新建 test.py 文件，输入“import torch; print(torch.__version__)”，运行后若正常输出版本，说明环境关联成功。

6.2 远程服务器开发（利用 GPU 训练）

安装 Remote - SSH 插件后，远程连接服务器（需服务器开启 SSH 服务）：

# 1. 配置远程连接
   1. 按 Ctrl+Shift+P 打开命令面板，输入“Remote-SSH: Connect to Host...”→“Configure SSH Hosts...”；
   2. 选择一个配置文件（如 C:\Users\用户名\.ssh\config），添加以下内容：
      Host 服务器别名（如 GPU_Server）
        HostName 服务器IP地址（如 192.168.1.100）
        User 服务器用户名（如 ubuntu）
   3. 保存配置后，再次执行“Remote-SSH: Connect to Host...”，选择服务器别名，输入密码即可连接。

# 2. 远程开发
   连接成功后，打开服务器上的 PyTorch 项目目录，操作方式与本地一致，可直接使用服务器 GPU 运行代码。

七、常见问题与解决方案

1. 问题：Python 插件安装后，代码无补全提示解决方案：① 确认已正确选择 Anaconda 环境的 Python 解释器（参考 6.1 节）；② 关闭 VSCode 后重新打开项目；③ 卸载插件后重新安装并重启。

2. 问题：内置终端无法激活 Anaconda 环境（提示“conda 不是内部或外部命令”）解决方案：① 关闭 VSCode，右键点击 VSCode 图标选择“以管理员身份运行”；② 检查 Anaconda 环境变量是否配置（参考 Anaconda 教程）；③ 重新安装 Anaconda 时勾选“Add Anaconda to PATH”。

3. 问题：调试时提示“找不到模块 torch”解决方案：① 确认调试配置的解释器是 pytorch_env 环境（launch.json 中“pythonPath”是否对应环境路径）；② 在终端激活环境后重新启动调试。

4. 问题：Remote - SSH 连接服务器失败解决方案：① 检查服务器 IP 地址、用户名是否正确；② 确认服务器已开启 SSH 服务（Ubuntu 可执行“sudo service ssh start”）；③ 关闭本地防火墙或添加 SSH 端口（默认22）例外。

八、进阶学习资源

- VSCode 官方文档：Visual Studio Code Documentation（涵盖全功能细节）；

- VSCode 中文教程：官方中文入门指南；

- Python 开发专题：VSCode Python 官方教程；

- 远程开发专题：Remote - SSH 官方指南。
